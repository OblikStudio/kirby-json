(function () {function w(a){return a&&a.__esModule?{d:a.default}:{d:a}}var t=this;var aa="object"==typeof t&&t&&t.Object===Object&&t;var ac="object"==typeof self&&self&&self.Object===Object&&self,c=aa||ac||Function("return this")();var e=c.Symbol;var R=Object.prototype,ke=R.hasOwnProperty,fe=R.toString,p=e?e.toStringTag:void 0;function ee($){var r=ke.call($,p),t=$[p];try{$[p]=void 0;var n=!0}catch(o){}var a=fe.call($);return n&&(r?$[p]=t:delete $[p]),a}var Oc=Object.prototype,dc=Oc.toString;function Rb(t){return dc.call(t)}var Pb="[object Null]",Jb="[object Undefined]",ba=e?e.toStringTag:void 0;function j($){return null==$?void 0===$?Jb:Pb:ba&&ba in Object($)?ee($):Rb($)}function k(t){return null!=t&&"object"==typeof t}var Gb="[object Symbol]";function vb($){return"symbol"==typeof $||k($)&&j($)==Gb}function tb(e,r){for(var t=-1,$=null==e?0:e.length,a=Array($);++t<$;)a[t]=r(e[t],t,e);return a}var y=Array.isArray;var rb=1/0,X=e?e.prototype:void 0,V=X?X.toString:void 0;function yc($){if("string"==typeof $)return $;if(y($))return tb($,yc)+"";if(vb($))return V?V.call($):"";var r=$+"";return"0"==r&&1/$==-rb?"-0":r}function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function h(t,e){var $=Za(t,e);return Xa($)?$:void 0}var wc="[object AsyncFunction]",ab="[object Function]",Yb="[object GeneratorFunction]",_a="[object Proxy]";function da($){if(!u($))return!1;var t=j($);return t==ab||t==Yb||t==wc||t==_a}var K=c["__core-js_shared__"];var ta=function(){var $=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}();function kb($){return!!ta&&ta in $}var cc=Function.prototype,pc=cc.toString;function g(t){if(null!=t){try{return pc.call(t)}catch(r){}try{return t+""}catch(r){}}return""}var Ac=/[\\^$.*+?()[\]{}|]/g,Cc=/^\[object .+?Constructor\]$/,Fc=Function.prototype,Gc=Object.prototype,Pc=Fc.toString,Tc=Gc.hasOwnProperty,Bd=RegExp("^"+Pc.call(Tc).replace(Ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xa($){return!(!u($)||kb($))&&(da($)?Bd:Cc).test(g($))}function Za($,t){return null==$?void 0:$[t]}var G=h(c,"WeakMap");var W=Object.create,eb=function(){function e(){}return function(t){if(!u(t))return{};if(W)return W(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function fb(r,t){var $=-1,e=r.length;for(t||(t=Array(e));++$<e;)t[$]=r[$];return t}var ca=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();function qb(t,$){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==$(t[e],e,t););return t}var Ib=9007199254740991,Xb=/^(?:0|[1-9]\d*)$/;function bc($,o){var r=typeof $;return!!(o=null==o?Ib:o)&&("number"==r||"symbol"!=r&&Xb.test($))&&$>-1&&$%1==0&&$<o}function ha(e,r,$){"__proto__"==r&&ca?ca(e,r,{configurable:!0,enumerable:!0,value:$,writable:!0}):e[r]=$}function ka($,t){return $===t||$!=$&&t!=t}var sc=Object.prototype,tc=sc.hasOwnProperty;function la($,r,e){var a=$[r];tc.call($,r)&&ka(a,e)&&(void 0!==e||r in $)||ha($,r,e)}function A(e,$,r,a){var s=!r;r||(r={});for(var t=-1,i=$.length;++t<i;){var u=$[t],l=a?a(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),s?ha(r,u,l):la(r,u,l)}return r}function ma($){return null!=$&&sa($.length)&&!da($)}var Bc=9007199254740991;function sa($){return"number"==typeof $&&$>-1&&$%1==0&&$<=Bc}var Dc=Object.prototype;function H(t){var o=t&&t.constructor;return t===("function"==typeof o&&o.prototype||Dc)}function I(r){return ma(r)?Z(r):jb(r)}function Hc(r,$){for(var t=-1,e=Array(r);++t<r;)e[t]=$(t);return e}var Ic="[object Arguments]";function S(e){return k(e)&&j(e)==Ic}var T=Object.prototype,Uc=T.hasOwnProperty,Yc=T.propertyIsEnumerable,Zc=S(function(){return arguments}())?S:function(r){return k(r)&&Uc.call(r,"callee")&&!Yc.call(r,"callee")};function xd(){return!1}var U=function(){var t={exports:this};this.__esModule=!0;var e="object"==typeof this&&this&&!this.nodeType&&this,r=e&&"object"==typeof t&&t&&!t.nodeType&&t,o=r&&r.exports===e?c.Buffer:void 0,s=(o?o.isBuffer:void 0)||xd;return this.default=s,t.exports}.call({});var Gd="[object Arguments]",Ld="[object Array]",Pd="[object Boolean]",ie="[object Date]",le="[object Error]",Ea="[object Function]",Fa="[object Map]",Ga="[object Number]",Ha="[object Object]",Ia="[object RegExp]",Ja="[object Set]",Ka="[object String]",La="[object WeakMap]",Ma="[object ArrayBuffer]",Na="[object DataView]",Oa="[object Float32Array]",Pa="[object Float64Array]",Qa="[object Int8Array]",Ra="[object Int16Array]",Sa="[object Int32Array]",Ta="[object Uint8Array]",Ua="[object Uint8ClampedArray]",Va="[object Uint16Array]",Wa="[object Uint32Array]",a={};function Ya($){return k($)&&sa($.length)&&!!a[j($)]}a[Oa]=a[Pa]=a[Qa]=a[Ra]=a[Sa]=a[Ta]=a[Ua]=a[Va]=a[Wa]=!0,a[Gd]=a[Ld]=a[Ma]=a[Pd]=a[Na]=a[ie]=a[le]=a[Ea]=a[Fa]=a[Ga]=a[Ha]=a[Ia]=a[Ja]=a[Ka]=a[La]=!1;function J(t){return function($){return t($)}}var $a=function(){var e={exports:this};this.__esModule=!0;var t="object"==typeof this&&this&&!this.nodeType&&this,r=t&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===t&&aa.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();return this.default=i,e.exports}.call({});var n=w($a);var Y=n.d&&n.d.isTypedArray,bb=Y?J(Y):Ya;var cb=Object.prototype,db=cb.hasOwnProperty;function Z(r,e){var $wmt$$interop$default=w(U);var $=y(r),a=!$&&Zc(r),t=!$&&!a&&$wmt$$interop$default.d(r),s=!$&&!a&&!t&&bb(r),i=$||a||t||s,x=i?Hc(r.length,String):[],A=x.length;for(var p in r)!e&&!db.call(r,p)||i&&("length"==p||t&&("offset"==p||"parent"==p)||s&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||bc(p,A))||x.push(p);return x}function $(t,u){return function($){return t(u($))}}var gb=$(Object.keys,Object);var hb=Object.prototype,ib=hb.hasOwnProperty;function jb(r){if(!H(r))return gb(r);var $=[];for(var t in Object(r))ib.call(r,t)&&"constructor"!=t&&$.push(t);return $}function _(e){return ma(e)?Z(e,!0):ob(e)}function lb(r){var t=[];if(null!=r)for(var $ in Object(r))t.push($);return t}var mb=Object.prototype,nb=mb.hasOwnProperty;function ob(r){if(!u(r))return lb(r);var $=H(r),e=[];for(var t in r)("constructor"!=t||!$&&nb.call(r,t))&&e.push(t);return e}var pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/;function f(e){var $=-1,t=null==e?0:e.length;for(this.clear();++$<t;){var a=e[$];this.set(a[0],a[1])}}function sb(){this.size=0,this.__data__={hash:new i,map:new(q||d),string:new i}}function i(t){var e=-1,$=null==t?0:t.length;for(this.clear();++e<$;){var r=t[e];this.set(r[0],r[1])}}function ub(){this.__data__=o?o(null):{},this.size=0}var o=h(Object,"create");function wb(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xb="__lodash_hash_undefined__",yb=Object.prototype,zb=yb.hasOwnProperty;function Ab(r){var $=this.__data__;if(o){var e=$[r];return e===xb?void 0:e}return zb.call($,r)?$[r]:void 0}var Bb=Object.prototype,Cb=Bb.hasOwnProperty;function Db(r){var $=this.__data__;return o?void 0!==$[r]:Cb.call($,r)}var Eb="__lodash_hash_undefined__";function Fb($,e){var i=this.__data__;return this.size+=this.has($)?0:1,i[$]=o&&void 0===e?Eb:e,this}i.prototype.clear=ub,i.prototype.delete=wb,i.prototype.get=Ab,i.prototype.has=Db,i.prototype.set=Fb;function d(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var l=e[t];this.set(l[0],l[1])}}function Hb(){this.__data__=[],this.size=0}function z(e,r){for(var $=e.length;$--;)if(ka(e[$][0],r))return $;return-1}var me=Array.prototype,Kb=me.splice;function Lb($){var r=this.__data__,a=z(r,$);return!(a<0)&&(a==r.length-1?r.pop():Kb.call(r,a,1),--this.size,!0)}function Mb($){var e=this.__data__,r=z(e,$);return r<0?void 0:e[r][1]}function Nb($){return z(this.__data__,$)>-1}function Ob($,e){var t=this.__data__,r=z(t,$);return r<0?(++this.size,t.push([$,e])):t[r][1]=e,this}d.prototype.clear=Hb,d.prototype.delete=Lb,d.prototype.get=Mb,d.prototype.has=Nb,d.prototype.set=Ob;var q=h(c,"Map");function Qb(e){var t=v(this,e).delete(e);return this.size-=t?1:0,t}function v(e,$){var r=e.__data__;return Sb($)?r["string"==typeof $?"string":"hash"]:r.map}function Sb(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Tb(t){return v(this,t).get(t)}function Ub(t){return v(this,t).has(t)}function Vb(t,e){var $=v(this,t),a=$.size;return $.set(t,e),this.size+=$.size==a?0:1,this}f.prototype.clear=sb,f.prototype.delete=Qb,f.prototype.get=Tb,f.prototype.has=Ub,f.prototype.set=Vb;var Wb="Expected a function";function E(e,$){if("function"!=typeof e||null!=$&&"function"!=typeof $)throw new TypeError(Wb);var t=function(){var a=arguments,r=$?$.apply(this,a):a[0],p=t.cache;if(p.has(r))return p.get(r);var c=e.apply(this,a);return t.cache=p.set(r,c)||p,c};return t.cache=new(E.Cache||f),t}E.Cache=f;var Da=500;function Zb($){var e=E($,function($){return r.size===Da&&r.clear(),$}),r=e.cache;return e}var $b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_b=/\\(\\)?/g,ne=Zb(function(e){var $=[];return 46===e.charCodeAt(0)&&$.push(""),e.replace($b,function(e,r,a,p){$.push(a?p.replace(_b,"$1"):r||e)}),$});function P(t,e){for(var $=-1,r=e.length,o=t.length;++$<r;)t[o+$]=e[$];return t}var ea=$(Object.getPrototypeOf,Object);function m(e){var t=this.__data__=new d(e);this.size=t.size}function ec(){this.__data__=new d,this.size=0}function fc(t){var e=this.__data__,$=e.delete(t);return this.size=e.size,$}function gc(t){return this.__data__.get(t)}function hc(t){return this.__data__.has(t)}var ic=200;function jc(p,$){var e=this.__data__;if(e instanceof d){var a=e.__data__;if(!q||a.length<ic-1)return a.push([p,$]),this.size=++e.size,this;e=this.__data__=new f(a)}return e.set(p,$),this.size=e.size,this}m.prototype.clear=ec,m.prototype.delete=fc,m.prototype.get=gc,m.prototype.has=hc,m.prototype.set=jc;function kc($,e){return $&&A(e,I(e),$)}function lc(t,$){return t&&A($,_($),t)}var mc=function(){var t={exports:this};this.__esModule=!0;var e="object"==typeof this&&this&&!this.nodeType&&this,o=e&&"object"==typeof t&&t&&!t.nodeType&&t,r=o&&o.exports===e?c.Buffer:void 0,s=r?r.allocUnsafe:void 0;return this.default=function(t,e){if(e)return t.slice();var o=t.length,r=s?s(o):new t.constructor(o);return t.copy(r),r},t.exports}.call({});function nc($,e){return A($,L($),e)}function oc(r,t){for(var u=-1,$=null==r?0:r.length,e=0,d=[];++u<$;){var a=r[u];t(a,u,r)&&(d[e++]=a)}return d}function fa(){return[]}var qc=Object.prototype,rc=qc.propertyIsEnumerable,ga=Object.getOwnPropertySymbols,L=ga?function(r){return null==r?[]:(r=Object(r),oc(ga(r),function($){return rc.call(r,$)}))}:fa;function uc(t,$){return A(t,ia(t),$)}var vc=Object.getOwnPropertySymbols,ia=vc?function(r){for(var $=[];r;)P($,L(r)),r=ea(r);return $}:fa;function xc(e){return ja(e,I,L)}function ja(r,$,e){var a=$(r);return y(r)?a:P(a,e(r))}function zc(e){return ja(e,_,ia)}var M=h(c,"DataView");var N=h(c,"Promise");var O=h(c,"Set");var na="[object Map]",Ec="[object Object]",oa="[object Promise]",pa="[object Set]",qa="[object WeakMap]",ra="[object DataView]",Jc=g(M),Kc=g(q),Lc=g(N),Mc=g(O),Nc=g(G),l=j;(M&&l(new M(new ArrayBuffer(1)))!=ra||q&&l(new q)!=na||N&&l(N.resolve())!=oa||O&&l(new O)!=pa||G&&l(new G)!=qa)&&(l=function($){var r=j($),a=r==Ec?$.constructor:void 0,e=a?g(a):"";if(e)switch(e){case Jc:return ra;case Kc:return na;case Lc:return oa;case Mc:return pa;case Nc:return qa;}return r});var Q=l;var Qc=Object.prototype,Rc=Qc.hasOwnProperty;function Sc(t){var r=t.length,$=new t.constructor(r);return r&&"string"==typeof t[0]&&Rc.call(t,"index")&&($.index=t.index,$.input=t.input),$}function F(r){var t=new r.constructor(r.byteLength);return new ua(t).set(new ua(r)),t}var ua=c.Uint8Array;function Vc(e,r){var t=r?F(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Wc=/\w*$/;function Xc($){var e=new $.constructor($.source,Wc.exec($));return e.lastIndex=$.lastIndex,e}var va=e?e.prototype:void 0,wa=va?va.valueOf:void 0;function $c($){return wa?Object(wa.call($)):{}}function _c(r,e){var u=e?F(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}var ad="[object Boolean]",bd="[object Date]",cd="[object Map]",dd="[object Number]",ed="[object RegExp]",fd="[object Set]",gd="[object String]",hd="[object Symbol]",id="[object ArrayBuffer]",jd="[object DataView]",kd="[object Float32Array]",ld="[object Float64Array]",md="[object Int8Array]",nd="[object Int16Array]",od="[object Int32Array]",pd="[object Uint8Array]",qd="[object Uint8ClampedArray]",rd="[object Uint16Array]",sd="[object Uint32Array]";function td(a,$,t){var r=a.constructor;switch($){case id:return F(a);case ad:case bd:return new r(+a);case jd:return Vc(a,t);case kd:case ld:case md:case nd:case od:case pd:case qd:case rd:case sd:return _c(a,t);case cd:return new r;case dd:case gd:return new r(a);case ed:return Xc(a);case fd:return new r;case hd:return $c(a);}}function ud(e){return"function"!=typeof e.constructor||H(e)?{}:eb(ea(e))}var vd="[object Map]";function wd($){return k($)&&Q($)==vd}var xa=n.d&&n.d.isMap,yd=xa?J(xa):wd;var zd="[object Set]";function Ad($){return k($)&&Q($)==zd}var ya=n.d&&n.d.isSet,Cd=ya?J(ya):Ad;var Dd=1,Ed=2,Fd=4,za="[object Arguments]",Hd="[object Array]",Id="[object Boolean]",Jd="[object Date]",Kd="[object Error]",Aa="[object Function]",Md="[object GeneratorFunction]",Nd="[object Map]",Od="[object Number]",Ba="[object Object]",Qd="[object RegExp]",Rd="[object Set]",Sd="[object String]",Td="[object Symbol]",Ud="[object WeakMap]",Vd="[object ArrayBuffer]",Wd="[object DataView]",Xd="[object Float32Array]",Yd="[object Float64Array]",Zd="[object Int8Array]",$d="[object Int16Array]",_d="[object Int32Array]",ae="[object Uint8Array]",be="[object Uint8ClampedArray]",ce="[object Uint16Array]",de="[object Uint32Array]",b={};function x($,a,r,e,s,N){var t,P=a&Dd,Y=a&Ed,o=a&Fd;if(r&&(t=s?r($,e,s,N):r($)),void 0!==t)return t;if(!u($))return $;var l=y($);if(l){if(t=Sc($),!P)return fb($,t)}else{var g=Q($),i=g==Aa||g==Md;var $wmt$$interop$default=w(U);var $sSk5$$interop$default=w(mc);if($wmt$$interop$default.d($))return $sSk5$$interop$default.d($,P);if(g==Ba||g==za||i&&!s){if(t=Y||i?{}:ud($),!P)return Y?uc($,lc(t,$)):nc($,kc(t,$))}else{if(!b[g])return s?$:{};t=td($,g,P)}}N||(N=new m);var n=N.get($);if(n)return n;N.set($,t),Cd($)?$.forEach(function(e){t.add(x(e,a,r,e,$,N))}):yd($)&&$.forEach(function(e,s){t.set(s,x(e,a,r,s,$,N))});var c=o?Y?zc:xc:Y?keysIn:I,v=l?void 0:c($);return qb(v||$,function(e,s){v&&(e=$[s=e]),la(t,s,x(e,a,r,s,$,N))}),t}b[za]=b[Hd]=b[Vd]=b[Wd]=b[Id]=b[Jd]=b[Xd]=b[Yd]=b[Zd]=b[$d]=b[_d]=b[Nd]=b[Od]=b[Ba]=b[Qd]=b[Rd]=b[Sd]=b[Td]=b[ae]=b[be]=b[ce]=b[de]=!0,b[Kd]=b[Aa]=b[Ud]=!1;var ge=1,he=4;function Ca($){return x($,ge|he)}function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={props:{colspan:{type:Number,default:1}},data:function(){return{type:"value"}}};if(typeof s==="function"){s=s.options}Object.assign(s,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("tfoot",{staticClass:"k-je-foot"},[_c("tr",[_c("td",{staticClass:"k-structure-table-index"}),_vm._v(" "),_c("td",{attrs:{"colspan":_vm.colspan}},[_c("p",{staticClass:"k-structure-table-text"},[_c("k-input",{attrs:{"options":[{value:"object",text:_vm.$t("oblik.json.object")},{value:"array",text:_vm.$t("oblik.json.array")},{value:"value",text:_vm.$t("oblik.json.value")}],"type":"radio"},model:{value:_vm.type,callback:function($$v){_vm.type=$$v},expression:"type"}})],1)]),_vm._v(" "),_c("td",{staticClass:"k-structure-table-option"},[_c("k-button",{attrs:{"icon":"add"},on:{"click":function($event){return _vm.$emit("add",_vm.type)}}})],1)])])};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var r={components:{Foot:s},props:{value:Object,settings:Object},data:function(){return{list:null,updatingList:!1}},computed:{dragOptions:function(){return{disabled:!this.settings.isSortable,fallbackClass:"k-sortable-row-fallback"}}},methods:{keys:Object.keys,isArray:Array.isArray,generateEntryId:function(){return this.list.length},serialize:function(){return this.list.map(function(t){return t.value})},updateList:function(t){var e=this;this.updatingList=!0,this.list=[],this.value&&"object"===je(this.value)&&(this.list=Object.keys(this.value).map(function(t){return{key:t,value:e.value[t]}})),this.$nextTick(function(){e.updatingList=!1})},add:function(t){var e={key:this.generateEntryId()};switch(t){case"value":e.value="Value";break;case"array":e.value=[];break;case"object":e.value={};}this.settings.isMutatable&&this.list.push(e)},remove:function(t){this.settings.isMutatable&&(this.list=this.list.filter(function(e){return e.key!==t}))}},watch:{value:{deep:!0,immediate:!0,handler:function(t){this.updateList(t)}},list:{deep:!0,handler:function(t){this.updatingList||this.$emit("input",this.serialize())}}}};if(typeof r==="function"){r=r.options}Object.assign(r,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",[_c("table",{staticClass:"k-structure-table",attrs:{"data-sortable":_vm.settings.isSortable?"true":false}},[_vm.list.length?_c("thead",[_c("tr",[_c("th",{staticClass:"k-structure-table-index"},[_vm._v("#")]),_vm._v(" "),_c("th",{staticClass:"k-structure-table-column"},[_vm._v(_vm._s(_vm.$t("oblik.json.value")))]),_vm._v(" "),_c("th")])]):_vm._e(),_vm._v(" "),_c("k-draggable",{attrs:{"element":"tbody","list":_vm.list,"handle":true,"options":_vm.dragOptions}},_vm._l(_vm.list,function(entry,index){return _c("tr",{key:entry.key},[_c("td",{staticClass:"k-structure-table-index"},[_vm.settings.isSortable?_c("k-sort-handle"):_vm._e(),_vm._v(" "),_c("span",{staticClass:"k-structure-table-index-number"},[_vm._v(_vm._s(index))])],1),_vm._v(" "),_c("td",{staticClass:"k-structure-table-column"},[_c("p",{staticClass:"k-structure-table-text",class:{"k-je-not-editable":!_vm.settings.isValuesEditable}},[!entry.value||typeof entry.value!=="object"?[_vm.settings.isValuesEditable?_c("k-input",{attrs:{"name":"text","type":"text"},model:{value:entry.value,callback:function($$v){_vm.$set(entry,"value",$$v)},expression:"entry.value"}}):_c("span",[_vm._v(_vm._s(entry.value))])]:_c("k-button",{attrs:{"icon":"open"},on:{"click":function($event){return _vm.$emit("open",entry.key)}}},[_vm._v(" "+_vm._s(_vm.$t("oblik.json."+(_vm.isArray(entry.value)?"array":"object")))+" ("+_vm._s(_vm.keys(entry.value).length)+" "+_vm._s(_vm.$t("oblik.json.values"))+") ")])],2)]),_vm._v(" "),_c("td",{staticClass:"k-structure-table-option"},[_c("k-button",{class:{"k-je-not-allowed":!_vm.settings.isMutatable},attrs:{"icon":"remove"},on:{"click":function($event){return _vm.remove(entry.key)}}})],1)])}),0),_vm._v(" "),_vm.settings.isMutatable?_c("Foot",{on:{"add":_vm.add}}):_vm._e()],1)])};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var D={extends:r,methods:{generateEntryId:function(){return"key"+(Math.floor(9e3*Math.random())+1e3)},serialize:function(e){var r={};return this.list.forEach(function(e){void 0!==e.key&&(r[e.key]=e.value)}),r}}};if(typeof D==="function"){D=D.options}Object.assign(D,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",[_c("table",{staticClass:"k-structure-table",attrs:{"data-sortable":_vm.settings.isSortable?"true":false}},[_vm.list.length?_c("thead",[_c("tr",[_c("th",{staticClass:"k-structure-table-index"},[_vm._v("#")]),_vm._v(" "),_c("th",{staticClass:"k-structure-table-column k-je-column-header-key"},[_vm._v(_vm._s(_vm.$t("oblik.json.key")))]),_vm._v(" "),_c("th",{staticClass:"k-structure-table-column"},[_vm._v(_vm._s(_vm.$t("oblik.json.value")))]),_vm._v(" "),_c("th")])]):_vm._e(),_vm._v(" "),_c("k-draggable",{attrs:{"element":"tbody","list":_vm.list,"handle":true,"options":_vm.dragOptions}},_vm._l(_vm.list,function(entry,index){return _c("tr",{key:index},[_c("td",{staticClass:"k-structure-table-index"},[_vm.settings.isSortable?_c("k-sort-handle"):_vm._e(),_vm._v(" "),_c("span",{staticClass:"k-structure-table-index-number"},[_vm._v(_vm._s(index+1))])],1),_vm._v(" "),_c("td",{staticClass:"k-structure-table-column"},[_c("p",{staticClass:"k-structure-table-text",class:{"k-je-not-editable":!_vm.settings.isKeysEditable}},[_vm.settings.isKeysEditable?_c("k-input",{attrs:{"name":"text","type":"text"},model:{value:entry.key,callback:function($$v){_vm.$set(entry,"key",$$v)},expression:"entry.key"}}):_c("span",[_vm._v(_vm._s(entry.key))])],1)]),_vm._v(" "),_c("td",{staticClass:"k-structure-table-column"},[_c("p",{staticClass:"k-structure-table-text",class:{"k-je-not-editable":!_vm.settings.isValuesEditable}},[!entry.value||typeof entry.value!=="object"?[_vm.settings.isValuesEditable?_c("k-input",{attrs:{"name":"text","type":"text"},model:{value:entry.value,callback:function($$v){_vm.$set(entry,"value",$$v)},expression:"entry.value"}}):_c("span",[_vm._v(_vm._s(entry.value))])]:_c("k-button",{attrs:{"icon":"open"},on:{"click":function($event){return _vm.$emit("open",entry.key)}}},[_vm._v(" "+_vm._s(_vm.$t("oblik.json."+(_vm.isArray(entry.value)?"array":"object")))+" ("+_vm._s(_vm.keys(entry.value).length)+" "+_vm._s(_vm.$t("values"))+") ")])],2)]),_vm._v(" "),_c("td",{staticClass:"k-structure-table-option"},[_c("k-button",{class:{"k-je-not-allowed":!_vm.settings.isMutatable},attrs:{"icon":"remove"},on:{"click":function($event){return _vm.remove(entry.key)}}})],1)])}),0),_vm._v(" "),_vm.settings.isMutatable?_c("Foot",{attrs:{"colspan":2},on:{"add":_vm.add}}):_vm._e()],1)])};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var C={components:{ObjectTable:D,ArrayTable:r},props:{value:Object,options:Object,label:{default:"Root"}},data:function(){return{data:null,path:[],settings:Object.assign({},{isKeysEditable:!0,isValuesEditable:!0,isMutatable:!0,isSortable:!0},this.options)}},computed:{location:function(){for(var t=null,e=null,a=this.data,i=0;i<this.path.length;i++){if(e=a,!a[t=this.path[i]]){this.path.splice(i);break}a=a[t]}return t&&e?{key:t,parent:e}:null},object:{get:function(){return this.location?this.location.parent[this.location.key]:this.data},set:function(t){this.location?this.location.parent[this.location.key]=t:this.data=t}},displayPath:function(){var t=this.path.map(function(t,e){return{name:t,index:e}});return t.unshift({name:this.label,index:-1}),t}},methods:{isArray:Array.isArray,openKey:function(t){this.path.push(t)},openPath:function(t){this.path.splice(t+1)},input:function(t){this.$emit("input",this.data)}},watch:{value:{immediate:!0,handler:function(t){this.data=Ca(t)}}}};if(typeof C==="function"){C=C.options}Object.assign(C,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("k-field",[_c("header",{staticClass:"k-field-header",attrs:{"slot":"header"},slot:"header"},[_c("label",{staticClass:"k-field-label",on:{"click":function($event){$event.preventDefault()}}},[_vm._l(_vm.displayPath,function(entry){return[_c("div",{key:entry.index,staticClass:"k-je-crumb"},[entry.index<_vm.path.length-1?[_c("button",{staticClass:"k-je-label-button",on:{"click":function($event){return _vm.openPath(entry.index)}}},[_vm._v(_vm._s(entry.name))]),_vm._v(" "),_c("span",{staticClass:"k-je-separator"},[_vm._v("/")])]:_c("span",[_vm._v(_vm._s(entry.name))])],2)]})],2)]),_vm._v(" "),_c(_vm.isArray(_vm.object)?"ArrayTable":"ObjectTable",{tag:"component",attrs:{"settings":_vm.settings},on:{"input":_vm.input,"open":_vm.openKey},model:{value:_vm.object,callback:function($$v){_vm.object=$$v},expression:"object"}})],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());function pb(t){return(pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var B={props:{value:Object,label:String,array:{default:!1},keys:{default:!1},values:{default:!0},mutate:{default:!1},sort:{default:!0}},data:function(){return{data:null,options:{isKeysEditable:this.keys,isValuesEditable:this.values,isMutatable:this.mutate,isSortable:this.sort}}},methods:{input:function(){this.$emit("input",this.data)}},watch:{value:{immediate:!0,handler:function(t){var e=Array.isArray(t),a=t&&"object"===pb(t)&&!e;this.array?e||(t=[]):a||(t={}),this.data=Ca(t)}}}};if(typeof B==="function"){B=B.options}Object.assign(B,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("k-json-editor",{attrs:{"label":_vm.label,"options":_vm.options},on:{"input":_vm.input},model:{value:_vm.data,callback:function($$v){_vm.data=$$v},expression:"data"}})};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("oblik/json",{components:{"k-json-editor":C},fields:{json:B}});})();